## 시스템

### 현재 사용하지 않는 것들
- EJB 1/2
- 수동 자바 프록시 구현
- XML 중심 설정 (대체되는 중)
- 과도한 초기 추상화 강조

### 1. 시스템 제작과 시스템 사용을 분리하라
- main 분리
시스템 생성과 시스템 사용을 분리하는 한 가지 방법 <br>
생성과 관련된 코드는 모두 main 이나 main이 호출하는 모듈로 옮기고, 나머지 시스템은 모든 객체가 생성되었고 모든 의존성이 연결되었다고 가정
<br><br>
- 팩토리
때로는 객체가 생성되는 시점을 애플리케이션이 결정할 필요도 생김. <br>
이떄는 추상 팩토리 패턴을 사용. <br>
그러면 생성하는 시점은 애플리케이션이 결정하지만, 생성하는 코드는 애플리케이션이 모름 <br>
현대에는 스프링부트 DI 컨테이너가 추상팩토리 역할을 하며 애너테이션과 설정을 통해 이를 제어함
<br><br>
- 의존성 주입
IoC에서는 한 객체가 맡은 보조 책임을 새로운 객체에게 전적으로 떠넘김.<br>
새 객체는 넘겨받은 책임만 맡으므로 SRP를 지키게 된다. <br>
의존성 관리 맥락에서 객체는 의존성 자체를 인스턴스로 만드는 책임은 지지 않는다. <br>
대신 이런 책임을 다른 전담 매커니즘에 넘겨야만 한다. <br>
그렇게 함으로써 제어를 역전한다. <br>
초기 설정은 시스템 전체에서 필요하므로 책임질 매커니즘으로 main 루틴이나 특수 컨테이너를 사용함
<br>

### 2. 횡단 관심사
로깅, 보안, 트랜잭션 같은 공통 관심사가 비즈니스 로직에 섞이면 안된다. <br>
예전에는 자바 프록시, 순수 자바 AOP 프레임워크를 사용했으나 현재는 스프링 AOP로 해결 가능 <br>
@Transactional 등의 애너테이션으로 간단히 처리

### 3. 확장
처음부터 완벽한 시스템을 만들려 하지 말고 점진적으로 확장하라. <br>
BDUF (Big Design UP Front) 방식보다 필요에 따라 진화하는 시스템을 선호 <br>
현대에는 애자일, DevOps, MSA가 이 철학을 구현함